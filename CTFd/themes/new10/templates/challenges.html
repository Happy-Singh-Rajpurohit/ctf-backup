{% extends "base.html" %}

{% block stylesheets %}
	<link rel="stylesheet" href="{{ url_for('views.themes', path='css/challenge-board.css') }}">
	<style>
		/* Animations */
		@keyframes glowPulse {
			0%, 100% {
				box-shadow: 0 0 20px rgba(0, 255, 255, 0.3),
							0 0 40px rgba(0, 255, 255, 0.2),
							inset 0 0 20px rgba(0, 255, 255, 0.1);
			}
			50% {
				box-shadow: 0 0 30px rgba(0, 255, 255, 0.5),
							0 0 60px rgba(0, 255, 255, 0.3),
							inset 0 0 30px rgba(0, 255, 255, 0.2);
			}
		}

		@keyframes slideIn {
			from {
				transform: translateY(-20px);
				opacity: 0;
			}
			to {
				transform: translateY(0);
				opacity: 1;
			}
		}

		@keyframes floatAnimation {
			0%, 100% {
				transform: translateY(0px);
			}
			50% {
				transform: translateY(-5px);
			}
		}

		@keyframes shimmer {
			0% {
				left: -100%;
			}
			100% {
				left: 100%;
			}
		}

		@keyframes fadeInUp {
			from {
				opacity: 0;
				transform: translateY(20px);
			}
			to {
				opacity: 1;
				transform: translateY(0);
			}
		}

		/* Banner Section with Animations */
		.cryptix-banner-section {
			background: linear-gradient(180deg, 
				#000000 0%, 
				#001a1a 50%, 
				#000000 100%);
			display: flex;
			align-items: center;
			justify-content: center;
			padding: 0 8%;
			margin: 0;
			margin-top: -20px;
			max-height: 120px;
			overflow: hidden;
			position: relative;
			animation: glowPulse 3s ease-in-out infinite;
			border-bottom: 2px solid rgba(0, 255, 255, 0.3);
		}

		.cryptix-banner-section::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: 
				repeating-linear-gradient(
					90deg,
					transparent,
					transparent 2px,
					rgba(0, 255, 255, 0.03) 2px,
					rgba(0, 255, 255, 0.03) 4px
				);
			pointer-events: none;
		}

		.cryptix-banner-section img {
			max-width: 100%;
			width: 100%;
			height: auto;
			max-height: 120px;
			display: block;
			object-fit: contain;
			animation: slideIn 1s ease-out, floatAnimation 4s ease-in-out infinite 1s;
			filter: drop-shadow(0 0 10px rgba(0, 255, 255, 0.4));
		}

		/* Challenge Instructions with Animations */
		.challenge-instructions {
			background: linear-gradient(180deg, 
				#000000 0%, 
				#001515 100%);
			text-align: center;
			padding: 1.5rem 1rem 2rem 1rem;
			margin: 0;
			position: relative;
			overflow: hidden;
		}

		.challenge-instructions::before {
			content: '';
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: linear-gradient(
				90deg,
				transparent,
				rgba(0, 255, 255, 0.1),
				transparent
			);
			animation: shimmer 3s infinite;
		}

		.challenge-instructions h3 {
			color: #00ffff;
			font-size: 1.5rem;
			font-weight: 400;
			margin: 0;
			text-shadow: 
				0 0 10px rgba(0, 255, 255, 0.5),
				0 0 20px rgba(0, 255, 255, 0.3),
				0 0 30px rgba(0, 255, 255, 0.2);
			position: relative;
			z-index: 1;
			animation: slideIn 1s ease-out 0.3s backwards;
		}

		/* Full Width Container - Remove Side Spacing */
		.container {
			max-width: 100% !important;
			padding-left: 1rem !important;
			padding-right: 1rem !important;
			width: 100% !important;
		}

		/* Challenges Board Full Width */
		#challenges-board {
			width: 100%;
			animation: fadeInUp 0.8s ease-out 0.5s backwards;
		}

		/* Challenge Cards Styling */
		#challenges-board .card {
			animation: fadeInUp 0.6s ease-out backwards;
			transition: all 0.3s ease;
			border: 1px solid rgba(0, 255, 255, 0.2);
			background: linear-gradient(135deg, #001a1a 0%, #000000 100%);
		}

		#challenges-board .card:hover {
			transform: translateY(-5px);
			box-shadow: 0 5px 25px rgba(0, 255, 255, 0.3);
			border-color: rgba(0, 255, 255, 0.5);
		}

		/* Remove Footer Spacing */
		footer.footer {
			margin-top: 0 !important;
			padding-top: 1rem !important;
			padding-bottom: 1rem !important;
		}

		/* Responsive Adjustments */
		@media (max-width: 768px) {
			.cryptix-banner-section {
				padding: 0 4%;
				max-height: 80px;
			}
			.cryptix-banner-section img {
				max-height: 80px;
			}
			.challenge-instructions {
				padding: 1rem 0.5rem 1.5rem 0.5rem;
			}
			.challenge-instructions h3 {
				font-size: 1.2rem;
			}
			.container {
				padding-left: 0.75rem !important;
				padding-right: 0.75rem !important;
			}
		}

		@media (max-width: 576px) {
			.cryptix-banner-section {
				padding: 0 2%;
			}
			.container {
				padding-left: 0.5rem !important;
				padding-right: 0.5rem !important;
			}
		}

		/* Stagger animation for cards */
		#challenges-board .card:nth-child(1) { animation-delay: 0.6s; }
		#challenges-board .card:nth-child(2) { animation-delay: 0.7s; }
		#challenges-board .card:nth-child(3) { animation-delay: 0.8s; }
		#challenges-board .card:nth-child(4) { animation-delay: 0.9s; }
		#challenges-board .card:nth-child(5) { animation-delay: 1s; }
		#challenges-board .card:nth-child(6) { animation-delay: 1.1s; }
		#challenges-board .card:nth-child(7) { animation-delay: 1.2s; }
		#challenges-board .card:nth-child(8) { animation-delay: 1.3s; }
	</style>
{% endblock %}

{% block content %}
<div class="cryptix-banner-section">
	<img src="{{ url_for('views.themes', path='img/cryptix-banner.jpg') }}" alt="CRYPTIX">
</div>

<div class="challenge-instructions">
	<h3>Solve the below questions to get points</h3>
</div>

<div class="modal fade" id="challenge-window" tabindex="-1" role="dialog">
</div>

<div class="container">
	<div class="row">
		<div class="col-md-12">
			{% include "components/errors.html" %}
		</div>
	</div>

	<div id='challenges-board'>
		<div class="min-vh-50 d-flex align-items-center">
			<div class="text-center w-100">
				<i class="fas fa-circle-notch fa-spin fa-3x fa-fw spinner"></i>
			</div>
		</div>
	</div>
</div>
{% endblock %}

{% block scripts %}
{% endblock %}

{% block entrypoint %}
	<script defer src="{{ url_for('views.themes', path='js/pages/challenges.js') }}"></script>
{% endblock %}
