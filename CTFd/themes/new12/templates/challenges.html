{% extends "base.html" %}

{% block stylesheets %}
	<link rel="stylesheet" href="{{ url_for('views.themes', path='css/challenge-board.css') }}">
	<style>
		.cryptix-banner-section {
			background-color: #000000;
			display: flex;
			align-items: center;
			justify-content: center;
			padding: 0;
			margin: 0;
			margin-top: -20px;
			max-height: 120px;
			overflow: hidden;
		}
		.cryptix-banner-section img {
			max-width: 100%;
			width: 100%;
			height: auto;
			max-height: 120px;
			display: block;
			object-fit: contain;
		}
		.challenge-instructions {
			background-color: #000000;
			text-align: center;
			padding: 1.5rem 1rem 2rem 1rem;
			margin: 0;
			position: relative;
			overflow: hidden;
		}
		.challenge-instructions h3 {
			color: #00ffff;
			font-size: 1.5rem;
			font-weight: 400;
			margin: 0;
			text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
			position: relative;
			z-index: 2;
		}
		
		/* Left Side - Circuit Lines */
		.cyber-circuit-left {
			position: absolute;
			left: 0;
			top: 0;
			width: 300px;
			height: 100%;
			pointer-events: none;
			opacity: 0.4;
			z-index: 1;
		}
		
		/* Right Side - Digital Particles */
		.digital-particles-right {
			position: absolute;
			right: 0;
			top: 0;
			width: 300px;
			height: 100%;
			pointer-events: none;
			opacity: 0.4;
			z-index: 1;
		}
		
		/* Particle animations */
		@keyframes float-particle {
			0%, 100% {
				transform: translateY(0) translateX(0);
				opacity: 0.3;
			}
			25% {
				transform: translateY(-10px) translateX(5px);
				opacity: 0.6;
			}
			50% {
				transform: translateY(-5px) translateX(-5px);
				opacity: 0.4;
			}
			75% {
				transform: translateY(-15px) translateX(3px);
				opacity: 0.5;
			}
		}
		
		.particle {
			position: absolute;
			width: 4px;
			height: 4px;
			background: #00ffff;
			border-radius: 50%;
			box-shadow: 0 0 10px rgba(0, 255, 255, 0.8);
			animation: float-particle 4s ease-in-out infinite;
		}
		
		.particle:nth-child(1) { top: 20%; right: 20%; animation-delay: 0s; }
		.particle:nth-child(2) { top: 40%; right: 15%; animation-delay: 1s; }
		.particle:nth-child(3) { top: 60%; right: 25%; animation-delay: 2s; }
		.particle:nth-child(4) { top: 80%; right: 10%; animation-delay: 1.5s; }
		.particle:nth-child(5) { top: 30%; right: 30%; animation-delay: 0.5s; }
		.particle:nth-child(6) { top: 70%; right: 20%; animation-delay: 2.5s; }
		.particle:nth-child(7) { top: 50%; right: 35%; animation-delay: 1.8s; }
		.particle:nth-child(8) { top: 15%; right: 25%; animation-delay: 0.8s; }
		
		/* Circuit glow animation */
		@keyframes circuit-glow {
			0%, 100% {
				opacity: 0.3;
				filter: drop-shadow(0 0 2px rgba(0, 255, 255, 0.4));
			}
			50% {
				opacity: 0.6;
				filter: drop-shadow(0 0 8px rgba(0, 255, 255, 0.8));
			}
		}
		
		.cyber-circuit-left svg {
			animation: circuit-glow 3s ease-in-out infinite;
		}
		
		@media (max-width: 768px) {
			.cryptix-banner-section {
				padding: 0;
				max-height: 80px;
			}
			.cryptix-banner-section img {
				max-height: 80px;
			}
			.challenge-instructions {
				padding: 1rem 0.5rem 1.5rem 0.5rem;
			}
			.challenge-instructions h3 {
				font-size: 1.2rem;
			}
			.cyber-circuit-left,
			.digital-particles-right {
				width: 150px;
				opacity: 0.25;
			}
		}
	</style>
{% endblock %}

{% block content %}
<div class="cryptix-banner-section">
	<img src="{{ url_for('views.themes', path='img/cryptix-banner.jpg') }}" alt="CRYPTIX">
</div>

<div class="challenge-instructions">
	<!-- Left Side: Cyber Circuit Lines -->
	<div class="cyber-circuit-left">
		<svg width="300" height="200" viewBox="0 0 300 200" xmlns="http://www.w3.org/2000/svg">
			<!-- Horizontal and Vertical Circuit Lines -->
			<line x1="0" y1="30" x2="80" y2="30" stroke="#00ffff" stroke-width="1.5" opacity="0.6"/>
			<circle cx="80" cy="30" r="3" fill="#00ffff" opacity="0.8"/>
			<line x1="80" y1="30" x2="80" y2="70" stroke="#00ffff" stroke-width="1.5" opacity="0.6"/>
			<circle cx="80" cy="70" r="3" fill="#00ffff" opacity="0.8"/>
			<line x1="80" y1="70" x2="150" y2="70" stroke="#00ffff" stroke-width="1.5" opacity="0.6"/>
			
			<line x1="0" y1="90" x2="60" y2="90" stroke="#00ffff" stroke-width="1.5" opacity="0.5"/>
			<circle cx="60" cy="90" r="3" fill="#00ffff" opacity="0.8"/>
			<line x1="60" y1="90" x2="60" y2="130" stroke="#00ffff" stroke-width="1.5" opacity="0.5"/>
			<circle cx="60" cy="130" r="3" fill="#00ffff" opacity="0.8"/>
			<line x1="60" y1="130" x2="120" y2="130" stroke="#00ffff" stroke-width="1.5" opacity="0.5"/>
			
			<line x1="0" y1="150" x2="100" y2="150" stroke="#00ffff" stroke-width="1.5" opacity="0.4"/>
			<circle cx="100" cy="150" r="3" fill="#00ffff" opacity="0.8"/>
			<line x1="100" y1="150" x2="100" y2="190" stroke="#00ffff" stroke-width="1.5" opacity="0.4"/>
			
			<!-- Diagonal Connections -->
			<line x1="20" y1="0" x2="50" y2="30" stroke="#00ffff" stroke-width="1" opacity="0.4"/>
			<line x1="40" y1="50" x2="70" y2="80" stroke="#00ffff" stroke-width="1" opacity="0.3"/>
			
			<!-- Small Circuit Nodes -->
			<circle cx="20" cy="50" r="2" fill="#00ffff" opacity="0.6"/>
			<circle cx="40" cy="110" r="2" fill="#00ffff" opacity="0.6"/>
			<circle cx="90" cy="100" r="2" fill="#00ffff" opacity="0.6"/>
			<circle cx="110" cy="160" r="2" fill="#00ffff" opacity="0.6"/>
		</svg>
	</div>
	
	<!-- Right Side: Digital Particles -->
	<div class="digital-particles-right">
		<div class="particle"></div>
		<div class="particle"></div>
		<div class="particle"></div>
		<div class="particle"></div>
		<div class="particle"></div>
		<div class="particle"></div>
		<div class="particle"></div>
		<div class="particle"></div>
	</div>
	
	<h3>Solve the below questions to get points</h3>
</div>

<div class="modal fade" id="challenge-window" tabindex="-1" role="dialog">
</div>

<div class="container">
	<div class="row">
		<div class="col-md-12">
			{% include "components/errors.html" %}
		</div>
	</div>

	<div id='challenges-board'>
		<div class="min-vh-50 d-flex align-items-center">
			<div class="text-center w-100">
				<i class="fas fa-circle-notch fa-spin fa-3x fa-fw spinner"></i>
			</div>
		</div>
	</div>
</div>
{% endblock %}

{% block scripts %}
{% endblock %}

{% block entrypoint %}
	<script defer src="{{ url_for('views.themes', path='js/pages/challenges.js') }}"></script>
{% endblock %}
